"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["497"],{57680:function(e,i,n){n.r(i),n.d(i,{metadata:()=>s,contentTitle:()=>r,default:()=>a,assets:()=>o,toc:()=>l,frontMatter:()=>c});var s=JSON.parse('{"id":"commands/histedit","title":"histedit","description":"histedit","source":"@site/docs/commands/histedit.md","sourceDirName":"commands","slug":"/commands/histedit","permalink":"/docs/commands/histedit","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/sapling/tree/main/website/docs/commands/histedit.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"sidebar_position":21},"sidebar":"tutorialSidebar","previous":{"title":"hide","permalink":"/docs/commands/hide"},"next":{"title":"init","permalink":"/docs/commands/init"}}'),t=n("85893"),d=n("50065");let c={sidebar_position:21},r=void 0,o={},l=[{value:"histedit",id:"histedit",level:2},{value:"arguments",id:"arguments",level:2}];function h(e){let i={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h2,{id:"histedit",children:"histedit"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.strong,{children:"interactively reorder, combine, or delete commits"})}),"\n",(0,t.jsx)(i.p,{children:"This command lets you edit a linear series of commits up to\nand including the working copy, which should be clean.\nYou can:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"pick"})," to (re)order a commit"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"drop"})," to omit a commit"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"mess"})," to reword a commit message"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"fold"})," to combine a commit with the preceding commit, using the later date"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"roll"})," like fold, but discarding this commit's description and date"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"edit"})," to edit a commit, preserving date"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.code,{children:"base"})," to checkout a commit and continue applying subsequent commits"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"There are multiple ways to select the root changeset:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsx)(i.p,{children:"Specify ANCESTOR directly"}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["\n",(0,t.jsxs)(i.p,{children:["Otherwise, the value from the ",(0,t.jsx)(i.code,{children:"histedit.defaultrev"})," config option  is used as a revset to select the base commit when ANCESTOR is not  specified. The first commit returned by the revset is used. By  default, this selects the editable history that is unique to the  ancestry of the working directory."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Examples:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["A number of changes have been made.  Commit ",(0,t.jsx)(i.code,{children:"a113a4006"})," is no longer needed."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Start history editing from commit a:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"sl histedit -r a113a4006\n"})}),"\n",(0,t.jsx)(i.p,{children:"An editor opens, containing the list of commits,\nwith specific actions specified:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"pick a113a4006 Zworgle the foobar\npick 822478b68 Bedazzle the zerlog\npick d275e7ed9 5 Morgify the cromulancy\n"})}),"\n",(0,t.jsx)(i.p,{children:"Additional information about the possible actions\nto take appears below the list of commits."}),"\n",(0,t.jsxs)(i.p,{children:["To remove commit ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/a113a4006",children:(0,t.jsx)(i.code,{children:"a113a40"})})," from the history,\nits action (at the beginning of the relevant line)\nis changed to ",(0,t.jsx)(i.code,{children:"drop"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"drop a113a4006 Zworgle the foobar\npick 822478b68 Bedazzle the zerlog\npick d275e7ed9 Morgify the cromulancy\n"})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["A number of changes have been made.  Commit ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/fe2bff2ce",children:(0,t.jsx)(i.code,{children:"fe2bff2"})})," and ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/c9116c09e",children:(0,t.jsx)(i.code,{children:"c9116c0"})})," need to be swapped."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["Start history editing from commit ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/fe2bff2ce",children:(0,t.jsx)(i.code,{children:"fe2bff2"})}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"sl histedit -r fe2bff2ce\n"})}),"\n",(0,t.jsx)(i.p,{children:"An editor opens, containing the list of commits,\nwith specific actions specified:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"pick fe2bff2ce Blorb a morgwazzle\npick 99a93da65 Zworgle the foobar\npick c9116c09e Bedazzle the zerlog\n"})}),"\n",(0,t.jsxs)(i.p,{children:["To swap commits ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/fe2bff2ce",children:(0,t.jsx)(i.code,{children:"fe2bff2"})})," and ",(0,t.jsx)(i.a,{href:"https://github.com/facebook/sapling/commit/c9116c09e",children:(0,t.jsx)(i.code,{children:"c9116c0"})}),", simply swap their lines:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"pick 8ef592ce7cc4 4 Bedazzle the zerlog\npick 5339bf82f0ca 3 Zworgle the foobar\npick 252a1af424ad 2 Blorb a morgwazzle\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Returns 0 on success, 1 if user intervention is required for\n",(0,t.jsx)(i.code,{children:"edit"})," command or to resolve merge conflicts."]}),"\n",(0,t.jsx)(i.h2,{id:"arguments",children:"arguments"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"shortname"}),(0,t.jsx)(i.th,{children:"fullname"}),(0,t.jsx)(i.th,{children:"default"}),(0,t.jsx)(i.th,{children:"description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--commands"})}),(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:"read history edits from the specified file"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"-c"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--continue"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"continue an edit already in progress"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--edit-plan"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"edit remaining actions list"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"-k"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--keep"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"don't strip old nodes after edit is complete"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--abort"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"abort an edit in progress"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"-r"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--rev"})}),(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:"first revision to be edited"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"-x"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--retry"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"retry exec command that failed and try to continue"})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"--show-plan"})}),(0,t.jsx)(i.td,{children:(0,t.jsx)(i.code,{children:"false"})}),(0,t.jsx)(i.td,{children:"show remaining actions list"})]})]})]})]})}function a(e={}){let{wrapper:i}={...(0,d.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},50065:function(e,i,n){n.d(i,{Z:function(){return r},a:function(){return c}});var s=n(67294);let t={},d=s.createContext(t);function c(e){let i=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(d.Provider,{value:i},e.children)}}}]);