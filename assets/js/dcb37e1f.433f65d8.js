"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7579],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>i,MDXProvider:()=>u,mdx:()=>f,useMDXComponents:()=>s,withMDXComponents:()=>p});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},o.apply(this,arguments)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),p=function(e){return function(n){var t=s(n.components);return a.createElement(e,o({},n,{components:t}))}},s=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},u=function(e){var n=s(e.components);return a.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},x=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,i=m(e,["components","mdxType","originalType","parentName"]),p=s(t),u=r,x=p["".concat(l,".").concat(u)]||p[u]||c[u]||o;return t?a.createElement(x,d(d({ref:n},i),{},{components:t})):a.createElement(x,d({ref:n},i))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=x;var d={};for(var m in n)hasOwnProperty.call(n,m)&&(d[m]=n[m]);d.originalType=e,d.mdxType="string"==typeof e?e:r,l[1]=d;for(var i=2;i<o;i++)l[i]=t[i];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}x.displayName="MDXCreateElement"},5074:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>l,default:()=>s,frontMatter:()=>o,metadata:()=>d,toc:()=>i});var a=t(83117),r=(t(67294),t(3905));const o={sidebar_position:44},l=void 0,d={unversionedId:"commands/undo",id:"commands/undo",title:"undo",description:"undo",source:"@site/docs/commands/undo.md",sourceDirName:"commands",slug:"/commands/undo",permalink:"/docs/commands/undo",draft:!1,editUrl:"https://github.com/facebook/sapling/tree/main/website/docs/commands/undo.md",tags:[],version:"current",sidebarPosition:44,frontMatter:{sidebar_position:44},sidebar:"tutorialSidebar",previous:{title:"uncommit",permalink:"/docs/commands/uncommit"},next:{title:"unhide",permalink:"/docs/commands/unhide"}},m={},i=[{value:"undo",id:"undo",level:2},{value:"arguments",id:"arguments",level:2}],p={toc:i};function s(e){let{components:n,...t}=e;return(0,r.mdx)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h2",{id:"undo"},"undo"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"undo the last local command")),(0,r.mdx)("p",null,"Reverse the effects of the last local command. A local command is one that\nchanged the currently checked out commit, that modified the contents of\nlocal commits, or that changed local bookmarks. Examples of local commands\ninclude ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl goto"),", ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl commit"),", ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl amend"),", and ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl rebase"),"."),(0,r.mdx)("p",null,"You cannot use ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," to undo uncommited changes in the working copy,\nor changes to remote bookmarks."),(0,r.mdx)("p",null,"You can run ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," multiple times to undo a series of local commands.\nAlternatively, you can explicitly specify the number of local commands to\nundo using ",(0,r.mdx)("inlineCode",{parentName:"p"},"--step"),". This number can also be specified as a positional\nargument."),(0,r.mdx)("p",null,"To undo the effects of ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo"),", run ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl redo"),". Run\n",(0,r.mdx)("inlineCode",{parentName:"p"},"sl help redo")," for more information."),(0,r.mdx)("p",null,"Include ",(0,r.mdx)("inlineCode",{parentName:"p"},"--keep")," to preserve the state of the working copy. For example,\nspecify ",(0,r.mdx)("inlineCode",{parentName:"p"},"--keep")," when running ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," to reverse the effects of an\n",(0,r.mdx)("inlineCode",{parentName:"p"},"sl commit")," or ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl amend")," operation while still preserving changes\nin the working copy. These changes will appear as pending changes."),(0,r.mdx)("p",null,"Specify ",(0,r.mdx)("inlineCode",{parentName:"p"},"--preview")," to see a graphical display that shows what\nyour smartlog will look like after you run the command. Specify\n",(0,r.mdx)("inlineCode",{parentName:"p"},"--interactive")," for an interactive version of this preview in which\nyou can step backwards and forwards in the undo history."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," cannot be used with non-local commands, or with commands\nthat are read-only. ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," will skip over these commands in the\nundo history."),(0,r.mdx)("p",null,"For hybrid commands that result in both local and remote changes,\n",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," will undo the local changes, but not the remote changes.\nFor example, ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl pull --rebase")," might move remote/master and also\nrebase local commits. In this situation, ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl undo")," will revert the\nrebase, but not the change to remote/master."),(0,r.mdx)("p",null,"Branch limits the scope of an undo to a group of local (draft)\nchangectxs, identified by any one member of this group."),(0,r.mdx)("h2",{id:"arguments"},"arguments"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"shortname"),(0,r.mdx)("th",{parentName:"tr",align:null},"fullname"),(0,r.mdx)("th",{parentName:"tr",align:null},"default"),(0,r.mdx)("th",{parentName:"tr",align:null},"description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-a")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--absolute")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"absolute based on command index instead of relative undo")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-i")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--interactive")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"use interactive ui for undo")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-k")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--keep")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"keep working copy changes")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-n")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--step")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"1")),(0,r.mdx)("td",{parentName:"tr",align:null},"how many steps to undo back")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-p")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--preview")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"see smartlog-like preview of future undo state")))))}s.isMDXComponent=!0}}]);