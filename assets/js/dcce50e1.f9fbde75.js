"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[277],{3905:(e,t,a)=>{a.r(t),a.d(t,{MDXContext:()=>s,MDXProvider:()=>c,mdx:()=>f,useMDXComponents:()=>p,withMDXComponents:()=>d});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var s=n.createContext({}),d=function(e){return function(t){var a=p(t.components);return n.createElement(e,o({},t,{components:a}))}},p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):m(m({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},b=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,r=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(a),c=i,b=d["".concat(r,".").concat(c)]||d[c]||u[c]||o;return a?n.createElement(b,m(m({ref:t},s),{},{components:a})):n.createElement(b,m({ref:t},s))}));function f(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=b;var m={};for(var l in t)hasOwnProperty.call(t,l)&&(m[l]=t[l]);m.originalType=e,m.mdxType="string"==typeof e?e:i,r[1]=m;for(var s=2;s<o;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}b.displayName="MDXCreateElement"},24958:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>m,toc:()=>s});var n=a(83117),i=(a(67294),a(3905));const o={sidebar_position:15},r="Release notes",m={unversionedId:"introduction/release-notes",id:"introduction/release-notes",title:"Release notes",description:"See Sapling VS Code extension changelog for changes to the sl web UI.",source:"@site/docs/introduction/release-notes.md",sourceDirName:"introduction",slug:"/introduction/release-notes",permalink:"/docs/introduction/release-notes",draft:!1,editUrl:"https://github.com/facebook/sapling/tree/main/website/docs/introduction/release-notes.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/introduction/installation"},next:{title:"Getting started",permalink:"/docs/introduction/getting-started"}},l={},s=[{value:"Feb 28, 2023",id:"feb-28-2023",level:2},{value:"Jan 24, 2023",id:"jan-24-2023",level:2},{value:"Dec 22, 2022",id:"dec-22-2022",level:2}],d={toc:s};function p(e){let{components:t,...a}=e;return(0,i.mdx)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"release-notes"},"Release notes"),(0,i.mdx)("p",null,"See Sapling ",(0,i.mdx)("a",{parentName:"p",href:"https://github.com/facebook/sapling/blob/94a3dbcb8b03453aed4b6b84d28dd3fdb072ee5e/addons/vscode/CHANGELOG.md"},"VS Code extension changelog")," for changes to the sl web UI."),(0,i.mdx)("h2",{id:"feb-28-2023"},"Feb 28, 2023"),(0,i.mdx)("p",null,"This release mainly brings better file move detection as well as various improvements to the ",(0,i.mdx)("inlineCode",{parentName:"p"},"sl pr submit")," command"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Added file moves detection for sl diff."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/discentem"},(0,i.mdx)("strong",{parentName:"a"},"@discentem"))," added a config option to disable the ReviewStack message in PRs created by ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl pr submit")," (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/427"},"#427"),"). The ReviewStack message is auto disabled for single-commit stack."),(0,i.mdx)("li",{parentName:"ul"},'Fixed "mark landed PRs" hook to work when ',(0,i.mdx)("inlineCode",{parentName:"li"},"sl")," not in PATH (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/71d6e67afd"},(0,i.mdx)("inlineCode",{parentName:"a"},"71d6e67")),")"),(0,i.mdx)("li",{parentName:"ul"},"Fixed ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl pr submit")," to not try to update closed PRs (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/5a354f7cd6"},(0,i.mdx)("inlineCode",{parentName:"a"},"5a354f7")),")"),(0,i.mdx)("li",{parentName:"ul"},"Fixed ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl pr submit"),' to use "overlapping" PR strategy by default (',(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/a05035903a"},(0,i.mdx)("inlineCode",{parentName:"a"},"a050359")),")"),(0,i.mdx)("li",{parentName:"ul"},"Fix ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl pr submit")," crash using non-placeholder issue approach (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/18a1987638"},(0,i.mdx)("inlineCode",{parentName:"a"},"18a1987")),")"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/vegerot"},(0,i.mdx)("strong",{parentName:"a"},"@vegerot"))," added and improved shell completion and prompt (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/369"},"#369")," ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/349"},"#349")," ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/348"},"#348"),")."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/vegerot"},(0,i.mdx)("strong",{parentName:"a"},"@vegerot"))," added support for ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl init --git")," on a ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/463"},"non-empty directory"),"."),(0,i.mdx)("li",{parentName:"ul"},"Fixed not being able to launch ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl web")," just after building with ",(0,i.mdx)("inlineCode",{parentName:"li"},"make oss"),".")),(0,i.mdx)("h2",{id:"jan-24-2023"},"Jan 24, 2023"),(0,i.mdx)("p",null,"This release focuses on bug fixes and improvements around the pr and ghstack commands."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Fixed an issue where sl pr list did not work correctly in combination with chg (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/a1187e8766f4c55bdbf64d369be2ed766641636d"},(0,i.mdx)("inlineCode",{parentName:"a"},"a1187e8")),")."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/discentem"},(0,i.mdx)("strong",{parentName:"a"},"@discentem"))," (BK) Updated sl pr pull to throw an appropriate error if no args were specified (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/357"},"#357"),")."),(0,i.mdx)("li",{parentName:"ul"},"Reverted the behavior introduced in the previous release that introduced the practice of using placeholder issues when creating GitHub pull requests. While this approach made it possible to create pull requests in parallel and had desirable guarantees with respect to PR numbers and branch names, it turned out to have a number of downsides that outweighed the benefits, as explained in ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/7ce516dfacead64b33fbf664574d169be9ed3b11"},(0,i.mdx)("inlineCode",{parentName:"a"},"7ce516d"))," ."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/discentem"},(0,i.mdx)("strong",{parentName:"a"},"@discentem"))," (BK) Fixed a bug where sl clone silently failed for some repositories (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/issues/375"},"#375"),") with (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/pull/386"},"#386"),")."),(0,i.mdx)("li",{parentName:"ul"},"Added a PR revset (",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/4720a2eff8962b13b44e4255e6c6171eeb084109"},(0,i.mdx)("inlineCode",{parentName:"a"},"4720a2e")),"). Now commands such as sl goto pr123 , sl log -r PR456 should work, even without having to manually download some pull request. Using sl pr pull is still necessary, however, if one wants to get the most recent version of some PR."),(0,i.mdx)("li",{parentName:"ul"},"Fix ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl ghstack land"),' to properly rebase, avoiding spurious "non-fast forward" push errors (',(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/ebbe7d8d7d71bc144d570f515b5c01da477b4d62"},(0,i.mdx)("inlineCode",{parentName:"a"},"ebbe7d8")),"), resolving ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/issues/333"},"#333")," .")),(0,i.mdx)("h2",{id:"dec-22-2022"},"Dec 22, 2022"),(0,i.mdx)("p",null,"This release focuses on correct issues around handling submodules as well as various usability/workflow improvements."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"We made a number of improvements to working in repos with submodules:",(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},"Rebasing past an update to a submodule no longer adds the submodule change to the bottom of the stack that was rebased: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/2f0f0fdc54aaa000dd6f596ce7e0f57d24bf8695"},(0,i.mdx)("inlineCode",{parentName:"a"},"2f0f0fd"))),(0,i.mdx)("li",{parentName:"ul"},"Rebasing a stack that contains a submodule change will preserve the change in the destination if the destination does not change the submodules: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/1f5424d83cc43d439c35255da0975cff452718d5"},(0,i.mdx)("inlineCode",{parentName:"a"},"1f5424d"))),(0,i.mdx)("li",{parentName:"ul"},"Rebasing a stack with a conflicting submodule change no longer crashes: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/2b94b6f941ab869d61277d1f9c4f5167c68c5258"},(0,i.mdx)("inlineCode",{parentName:"a"},"2b94b6f"))))),(0,i.mdx)("li",{parentName:"ul"},"Improvements to the sl pr command:",(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},"You must now specify sl pr submit explicitly: submit is no longer the default subcommand for sl pr, but s can be used as an alias for submit: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/56b5e3e18070207881caeec9b7e0fc96efef4cae"},(0,i.mdx)("inlineCode",{parentName:"a"},"56b5e3e"))),(0,i.mdx)("li",{parentName:"ul"},"The sl pr submit command now supports a --draft flag: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/6e9c3d7a6671839601c8064f0ae5fc2f3e2d361c"},(0,i.mdx)("inlineCode",{parentName:"a"},"6e9c3d7"))),(0,i.mdx)("li",{parentName:"ul"},"New sl pr pull subcommand: if you use sl pr submit to create a stack of pull requests, now you can use sl pr pull to import the stack back into your working copy: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/d09d5985c2731df54269169bf8500bd31573baac"},(0,i.mdx)("inlineCode",{parentName:"a"},"d09d598"))),(0,i.mdx)("li",{parentName:"ul"},"New sl pr list subcommand that mirrors the functionality of gh pr list: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/8f0a657a00bb24827cb26bc69e345894861a9a38"},(0,i.mdx)("inlineCode",{parentName:"a"},"8f0a657"))),(0,i.mdx)("li",{parentName:"ul"},"Experimental new command for creating stacks: sl -c github.pr_workflow=single pr submit. See ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/issues/302"},"#302")," and ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/166e2640d353e67317302f5f998f20c791464402"},(0,i.mdx)("inlineCode",{parentName:"a"},"166e264"))," for details."),(0,i.mdx)("li",{parentName:"ul"},"sl pr submit now appends the stack information to the end of the pull request body instead of prepending it to the top: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/8910d18fe82b791127d62ddfdf631fd474a6f6f3"},(0,i.mdx)("inlineCode",{parentName:"a"},"8910d18"))),(0,i.mdx)("li",{parentName:"ul"},"The branch name for a PR created by sl pr submit is now guaranteed to match the PR number: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/e77e67bba710bc6665a4cc9119bc01303ff4509b"},(0,i.mdx)("inlineCode",{parentName:"a"},"e77e67b"))))),(0,i.mdx)("li",{parentName:"ul"},"Improvements to commands involving remote names and bookmarks:",(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},"SCP-style URIs (such as ",(0,i.mdx)("a",{parentName:"li",href:"mailto:git@github.com"},"git@github.com"),":git/git-reference) are now supported for remote names: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/67fa8488e150513d21eedc66b37724d00f2034a9"},(0,i.mdx)("inlineCode",{parentName:"a"},"67fa848"))),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"sl clone --git <URL> --updaterev <branch/commit>")," can now be used to clone a specific branch or commit: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/9804c66bb8190a5ab4566c576db391ebe34c2d6b"},(0,i.mdx)("inlineCode",{parentName:"a"},"9804c66"))),(0,i.mdx)("li",{parentName:"ul"},"sl rebase -b was reworked for better selecting branching points by avoiding public commits (reverse rebase now works): ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/96b767efde6a59dbff31d2808736102b3929067a"},(0,i.mdx)("inlineCode",{parentName:"a"},"96b767e"))),(0,i.mdx)("li",{parentName:"ul"},"sl bookmark --remote can be used to list remote branches. Further, sl bookmark --remote-path my-fork --remote tags will list tags from remote myfork:"),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/e8f57d7902c800bec7ded3c567d9e370460df24e"},(0,i.mdx)("inlineCode",{parentName:"a"},"e8f57d7"))))),(0,i.mdx)("li",{parentName:"ul"},"Removed a dependency on gdbm in the Python code, that was causing crashes for some users: ",(0,i.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/cfbb6a256b94c6e755db02658ef1a4312303bee6"},(0,i.mdx)("inlineCode",{parentName:"a"},"cfbb6a2")))))}p.isMDXComponent=!0}}]);