"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3782],{3905:(e,t,n)=>{n.r(t),n.d(t,{MDXContext:()=>o,MDXProvider:()=>u,mdx:()=>g,useMDXComponents:()=>c,withMDXComponents:()=>p});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},m=Object.keys(e);for(a=0;a<m.length;a++)n=m[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(a=0;a<m.length;a++)n=m[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),p=function(e){return function(t){var n=c(t.components);return a.createElement(e,m({},t,{components:n}))}},c=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):d(d({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},x=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,m=e.originalType,l=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),p=c(n),u=r,x=p["".concat(l,".").concat(u)]||p[u]||s[u]||m;return n?a.createElement(x,d(d({ref:t},o),{},{components:n})):a.createElement(x,d({ref:t},o))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var m=n.length,l=new Array(m);l[0]=x;var d={};for(var i in t)hasOwnProperty.call(t,i)&&(d[i]=t[i]);d.originalType=e,d.mdxType="string"==typeof e?e:r,l[1]=d;for(var o=2;o<m;o++)l[o]=n[o];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}x.displayName="MDXCreateElement"},99603:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>m,metadata:()=>d,toc:()=>o});var a=n(83117),r=(n(67294),n(3905));const m={sidebar_position:5},l=void 0,d={unversionedId:"commands/backout",id:"commands/backout",title:"backout",description:"backout",source:"@site/docs/commands/backout.md",sourceDirName:"commands",slug:"/commands/backout",permalink:"/docs/commands/backout",draft:!1,editUrl:"https://github.com/facebook/sapling/tree/main/website/docs/commands/backout.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"annotate",permalink:"/docs/commands/annotate"},next:{title:"bookmark",permalink:"/docs/commands/bookmark"}},i={},o=[{value:"backout",id:"backout",level:2},{value:"arguments",id:"arguments",level:2}],p={toc:o};function c(e){let{components:t,...n}=e;return(0,r.mdx)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h2",{id:"backout"},"backout"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"reverse the effects of an earlier commit")),(0,r.mdx)("p",null,"Create an inverse commit of the specified commit. Backout is commonly\nused to undo the effects of a public commit."),(0,r.mdx)("p",null,"By default, ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl backout")," creates a new commit on top of the\ncurrent commit. Specify ",(0,r.mdx)("inlineCode",{parentName:"p"},"--no-commit")," to skip making a new\ncommit, leaving the changes outstanding in your working copy."),(0,r.mdx)("p",null,"If merge conflicts are encountered during the backout, changes will be\nleft in the working copy with conflict markers inserted. When this occurs,\nresolve the conflicts and then run ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl commit"),"."),(0,r.mdx)("p",null,"By default, ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl backout")," will abort if pending changes are present in the\nworking copy. Specify ",(0,r.mdx)("inlineCode",{parentName:"p"},"--merge")," to combine changes from the backout with\nyour pending changes."),(0,r.mdx)("p",null,"Examples:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Reverse the effect of the parent of the working copy.  This backout will be committed immediately:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"sl backout -r .\n")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Reverse the effect of previous bad commit ",(0,r.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/42e8ddebe"},(0,r.mdx)("inlineCode",{parentName:"a"},"42e8dde")),":")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"sl backout -r 42e8ddebe\n")),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Reverse the effect of previous bad revision ",(0,r.mdx)("a",{parentName:"li",href:"https://github.com/facebook/sapling/commit/42e8ddebe"},(0,r.mdx)("inlineCode",{parentName:"a"},"42e8dde"))," and  leave changes uncommitted:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},'sl backout -r 42e8ddebe --no-commit\nsl commit -m "Backout 42e8ddebe"\n')),(0,r.mdx)("p",null,"By default, the new commit will have one parent,\nmaintaining a linear history. With ",(0,r.mdx)("inlineCode",{parentName:"p"},"--merge"),", the commit\nwill instead have two parents: the old parent of the\nworking copy and a new child of REV that simply undoes REV."),(0,r.mdx)("p",null,"See ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl help dates")," for a list of formats valid for ",(0,r.mdx)("inlineCode",{parentName:"p"},"-d/--date"),"."),(0,r.mdx)("p",null,"See ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl help revert")," for a way to restore files to the state\nof another revision."),(0,r.mdx)("p",null,"Returns 0 on success, 1 if nothing to backout or there are unresolved\nfiles."),(0,r.mdx)("h2",{id:"arguments"},"arguments"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"shortname"),(0,r.mdx)("th",{parentName:"tr",align:null},"fullname"),(0,r.mdx)("th",{parentName:"tr",align:null},"default"),(0,r.mdx)("th",{parentName:"tr",align:null},"description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--merge")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"combine existing pending changes with backout changes")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--no-commit")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"do not commit")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-r")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--rev")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"revision to back out")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-e")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--edit")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"false")),(0,r.mdx)("td",{parentName:"tr",align:null},"open editor to specify custom commit message")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-t")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--tool")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"specify merge tool")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-I")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--include")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"include files matching the given patterns")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-X")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--exclude")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"exclude files matching the given patterns")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-m")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--message")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"use text as commit message")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-l")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--logfile")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"read commit message from file")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-d")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--date")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"record the specified date as commit date")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"-u")),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"--user")),(0,r.mdx)("td",{parentName:"tr",align:null}),(0,r.mdx)("td",{parentName:"tr",align:null},"record the specified user as committer")))))}c.isMDXComponent=!0}}]);