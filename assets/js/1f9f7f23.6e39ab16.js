"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5805],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>m,MDXProvider:()=>u,mdx:()=>f,useMDXComponents:()=>d,withMDXComponents:()=>p});var o=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},a.apply(this,arguments)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var m=o.createContext({}),p=function(e){return function(n){var t=d(n.components);return o.createElement(e,a({},n,{components:t}))}},d=function(e){var n=o.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=d(e.components);return o.createElement(m.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},h=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=d(t),u=r,h=p["".concat(i,".").concat(u)]||p[u]||c[u]||a;return t?o.createElement(h,s(s({ref:n},m),{},{components:t})):o.createElement(h,s({ref:n},m))}));function f(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=h;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var m=2;m<a;m++)i[m]=t[m];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}h.displayName="MDXCreateElement"},25229:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>m});var o=t(83117),r=(t(67294),t(3905));const a={sidebar_position:80},i="Pull / push",s={unversionedId:"overview/push-pull",id:"overview/push-pull",title:"Pull / push",description:"Pull",source:"@site/docs/overview/push-pull.md",sourceDirName:"overview",slug:"/overview/push-pull",permalink:"/docs/overview/push-pull",draft:!1,editUrl:"https://github.com/facebook/sapling/tree/main/website/docs/overview/push-pull.md",tags:[],version:"current",sidebarPosition:80,frontMatter:{sidebar_position:80},sidebar:"tutorialSidebar",previous:{title:"Rebase",permalink:"/docs/overview/rebase"},next:{title:"Undo",permalink:"/docs/overview/undo"}},l={},m=[{value:"Pull",id:"pull",level:3},{value:"Push",id:"push",level:3}],p={toc:m};function d(e){let{components:n,...t}=e;return(0,r.mdx)("wrapper",(0,o.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"pull--push"},"Pull / push"),(0,r.mdx)("h3",{id:"pull"},"Pull"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl pull")," command is used to download new commits from the server. By\ndefault it only pulls remote bookmarks that you are subscribed to. To subscribe\nto more bookmarks use ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl pull -B other_bookmark_name"),"."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"sl pull")," only downloads commits. It does not rebase or merge anything, unless\nyou specify ",(0,r.mdx)("inlineCode",{parentName:"p"},"--rebase"),"."),(0,r.mdx)("p",null,"Note, this is different from ",(0,r.mdx)("inlineCode",{parentName:"p"},"git pull")," which generally pulls all branches and\nautomatically tries to merge/rebase your changes with the new branches."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-sl-shell-example"},"$ sl\n  @  9f73762dd  62 minutes ago  mary\n  \u2502  Commit Two\n  \u2502\n  o  9d550d707  62 minutes ago  mary\n\u256d\u2500\u256f  Commit One\n\u2502\no  b5d600552  65 minutes ago  remote/main\n\u2577\n~\n\n# Fetch new commits from main\n$ sl pull\n\n# The current stack is now behind main\n$ sl\no  08a7511cc  33 seconds ago  remote/main\n\u2577\n\u2577 @  9f73762dd  63 minutes ago  mary\n\u2577 \u2502  Commit Two\n\u2577 \u2502\n\u2577 o  9d550d707  63 minutes ago  mary\n\u256d\u2500\u256f  Commit One\n\u2502\no  b5d600552  66 minutes ago\n\u2577\n~\n\n$ sl pull --rebase\n$ sl\n  @  e75394bbb  9 seconds ago  mary\n  \u2502  Commit Two\n  \u2502\n  o  4eefdfe1d  9 seconds ago  mary\n\u256d\u2500\u256f  Commit One\n\u2502\no  59125794a  20 seconds ago  remote/main\n\u2577\n~\n")),(0,r.mdx)("h3",{id:"push"},"Push"),(0,r.mdx)("p",null,"Use the push command to push local commits to remote. Specify the ",(0,r.mdx)("inlineCode",{parentName:"p"},"--to")," to specify the remote branch/bookmark to push commits to. Specify ",(0,r.mdx)("inlineCode",{parentName:"p"},"-r")," to specify local commit you want pushed. If ",(0,r.mdx)("inlineCode",{parentName:"p"},"-r")," is ommitted, the currently checked out commit is pushed."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-sl-shell-example"},"# Push current commit stack to the remote main bookmark.\n$ sl push -r . --to main\n")),(0,r.mdx)("p",null,"During a normal ",(0,r.mdx)("inlineCode",{parentName:"p"},"git push")," or an ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl push")," to a Git repository, the push simply\nsends the commits to the server and moves the branch or bookmark forward to the\nnewly pushed commit."),(0,r.mdx)("p",null,"When ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl push")," is used with the Sapling server, ",(0,r.mdx)("inlineCode",{parentName:"p"},"sl push --to BOOKMARK")," pushes the\ncommits to the server and the server additionally rebases them onto the\ndestination bookmark.  This allows organizations with high push rates to avoid\nraces where someone is unable to push because someone else pushed first. This\nserver side rebase is simplified, in that it does not do any file content merging.\nIf someone else touched the same files you touched, your push will fail and you\nwill need to pull, rebase, and push again."),(0,r.mdx)("p",null,"Notable push options (some of these may not work when working with Git repos):"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"-r")," / ",(0,r.mdx)("inlineCode",{parentName:"li"},"--rev")," Specifies which commit to push. Ancestors of this commit will\nalso be pushed. Note, only one head can be pushed at a time, so you can't push\n2+ branches at once."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"--to")," Specifies the remote bookmark to push onto."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"--non-forward-move")," Indicates that the push will result in the remote\nbookmark moving backwards or sideways, instead of moving forward to a\ndescendant. This is used when a bookmark is in the wrong location and needs to\nbe forced elsewhere."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"--create")," Used to indicate the bookmark being pushed to is new and should\nbe created."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"-d")," / ",(0,r.mdx)("inlineCode",{parentName:"li"},"--delete")," Allows deleting a remote bookmark.")))}d.isMDXComponent=!0}}]);