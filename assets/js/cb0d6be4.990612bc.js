"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[297],{3905:(e,n,t)=>{t.r(n),t.d(n,{MDXContext:()=>l,MDXProvider:()=>u,mdx:()=>f,useMDXComponents:()=>c,withMDXComponents:()=>m});var o=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(){return r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r.apply(this,arguments)}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=o.createContext({}),m=function(e){return function(n){var t=c(n.components);return o.createElement(e,r({},n,{components:t}))}},c=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},u=function(e){var n=c(e.components);return o.createElement(l.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},h=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=c(t),u=i,h=m["".concat(a,".").concat(u)]||m[u]||p[u]||r;return t?o.createElement(h,d(d({ref:n},l),{},{components:t})):o.createElement(h,d({ref:n},l))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,a=new Array(r);a[0]=h;var d={};for(var s in n)hasOwnProperty.call(n,s)&&(d[s]=n[s]);d.originalType=e,d.mdxType="string"==typeof e?e:i,a[1]=d;for(var l=2;l<r;l++)a[l]=t[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}h.displayName="MDXCreateElement"},77211:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var o=t(83117),i=(t(67294),t(3905));const r={sidebar_position:30},a="Hide/Unhide",d={unversionedId:"overview/hide-unhide",id:"overview/hide-unhide",title:"Hide/Unhide",description:"One of the classic difficulties of modern version control systems",source:"@site/docs/overview/hide-unhide.md",sourceDirName:"overview",slug:"/overview/hide-unhide",permalink:"/docs/overview/hide-unhide",draft:!1,editUrl:"https://github.com/facebook/sapling/tree/main/website/docs/overview/hide-unhide.md",tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"tutorialSidebar",previous:{title:"Smartlog",permalink:"/docs/overview/smartlog"},next:{title:"Navigation",permalink:"/docs/overview/navigation"}},s={},l=[{value:"How to find a hidden commit",id:"how-to-find-a-hidden-commit",level:4}],m={toc:l};function c(e){let{components:n,...t}=e;return(0,i.mdx)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"hideunhide"},"Hide/Unhide"),(0,i.mdx)("p",null,"One of the classic difficulties of modern version control systems\nis figuring out how to undo your mistakes. While Sapling contains\na variety of commands to help you undo mistakes, its foundational\nfeature is that commits can be hidden and unhidden, and that\ndoing so is safe, easy to understand, and easy to undo."),(0,i.mdx)("p",null,"While commits can be hidden manually, they can also become hidden\nwhen they are superceded by changes to the commit, whether by\namends, rebases, or other operations. But the key concept is that\nthey are still stored permanently in your repository, even after\nthey are no longer visible in your ",(0,i.mdx)("inlineCode",{parentName:"p"},"smartlog")," output. If you ever\nwant to bring back an old commit, it\u2019s as easy as ",(0,i.mdx)("inlineCode",{parentName:"p"},"sl unhide"),"."),(0,i.mdx)("p",null,"And with a robust ",(0,i.mdx)("inlineCode",{parentName:"p"},"sl undo")," command, you can quickly and easily\nget to a previous state. Being able to undo just about any\ncommand gives users the confidence to try new commands and learn\nfrom their mistakes."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"sl hide COMMIT")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"sl unhide COMMIT")," can be used to simply and\nsafely hide and recover commits."),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-sl-shell-example"},"$ sl\n@  b84224608  Yesterday at 16:04  john  remote/main\n\u2502  Updating submodules\n~\n\n$ sl unhide 15de72785\n\n$ sl\n@  b84224608  Yesterday at 16:04  john  remote/main\n\u2577  Updating submodules\n\u2577\n\u2577 o  15de72785  Yesterday at 16:16  mary\n\u256d\u2500\u256f  Implement glorious features\n\u2502\no  a555d064c  Wednesday at 09:06\n\u2502\n~\n\n# Note, a555d064c was not unhidden. Smartlog just chose to show it\n# so you can see how 15de72785 relates to the main bookmark.\n\n$ sl hide 15de72785\n\n$ sl\n@  b84224608  Yesterday at 16:04  john  remote/main\n\u2502  Updating submodules\n~\n")),(0,i.mdx)("p",null,"Notable features:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"You can only hide local commits (known as \u201cdraft\u201d commits). You cannot hide commits on bookmarks that came from the server (known as \u201cpublic\u201d commits)."),(0,i.mdx)("li",{parentName:"ul"},"If you hide a commit that has commits on top of it (that is, its descendants), all of the commits will be hidden. If you unhide a commit that has commits beneath it (that is, its ancestors), all of the commits will be unhidden."),(0,i.mdx)("li",{parentName:"ul"},"You can hide/unhide many commits at once using revsets (see ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl help revset"),"). For instance, ",(0,i.mdx)("inlineCode",{parentName:"li"},'sl hide "draft()"')," will hide all of your local commits."),(0,i.mdx)("li",{parentName:"ul"},"Many commands work even on hidden commits. For instance, ",(0,i.mdx)("inlineCode",{parentName:"li"},"sl show COMMIT")," will let you inspect a commit before unhiding it. You can even checkout a hidden commit to temporarily work with it."),(0,i.mdx)("li",{parentName:"ul"},"Hiding a commit will also remove any local bookmarks on that commit.")),(0,i.mdx)("p",null,"There is currently no way to permanently delete a commit from your local repository other than by deleting your repo and recloning."),(0,i.mdx)("h4",{id:"how-to-find-a-hidden-commit"},"How to find a hidden commit"),(0,i.mdx)("p",null,"There are a variety of ways to find which hidden commit you want to unhide."),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},'sl smartlog --rev "hidden()"')," to view all hidden commits using the \u201chidden()\u201d revset."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},'sl log -r "predecessors(COMMIT)"')," to view the hidden previous versions of a certain commit (that is, the version from before a rebase, amend, etc)."),(0,i.mdx)("li",{parentName:"ul"},"See ",(0,i.mdx)("a",{parentName:"li",href:"/docs/overview/undo"},"Undo")," and ",(0,i.mdx)("a",{parentName:"li",href:"/docs/commands/journal"},"Journal")," for more ways to view your past repository actions.")))}c.isMDXComponent=!0}}]);